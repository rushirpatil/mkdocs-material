
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Division%202/">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.26">
    
    
      
        <title>Division 3 - Redshift Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
      <link rel="stylesheet" href="../../../custom/custom.css">
    
      <link rel="stylesheet" href="../../../custom/footer.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Redshift Documentation" class="md-header__button md-logo" aria-label="Redshift Documentation" data-md-component="logo">
      
  <img src="../../../Images/RCX_Logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Redshift Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Division 3
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Redshift Documentation" class="md-nav__button md-logo" aria-label="Redshift Documentation" data-md-component="logo">
      
  <img src="../../../Images/RCX_Logo.png" alt="logo">

    </a>
    Redshift Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Introduction%20to%20Data%20Warehouse%20User%20Guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Warehouse User Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Foundation Level Queries
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Foundation Level Queries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Division%201/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Division 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Division%202/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Division 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Division 3
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Division 3
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comprehensive-insights-of-programs" class="md-nav__link">
    <span class="md-ellipsis">
      Comprehensive Insights of Programs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comprehensive Insights of Programs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loc_overrides" class="md-nav__link">
    <span class="md-ellipsis">
      loc_overrides
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#programs" class="md-nav__link">
    <span class="md-ellipsis">
      programs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wallet_policies" class="md-nav__link">
    <span class="md-ellipsis">
      wallet_policies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#level_policies" class="md-nav__link">
    <span class="md-ellipsis">
      level_policies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wallet_levels" class="md-nav__link">
    <span class="md-ellipsis">
      wallet_levels
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comprehensive-insights-of-programs" class="md-nav__link">
    <span class="md-ellipsis">
      Comprehensive Insights of Programs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comprehensive Insights of Programs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loc_overrides" class="md-nav__link">
    <span class="md-ellipsis">
      loc_overrides
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#programs" class="md-nav__link">
    <span class="md-ellipsis">
      programs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wallet_policies" class="md-nav__link">
    <span class="md-ellipsis">
      wallet_policies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#level_policies" class="md-nav__link">
    <span class="md-ellipsis">
      level_policies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wallet_levels" class="md-nav__link">
    <span class="md-ellipsis">
      wallet_levels
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Division 3</h1>

<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Programs are designed to retain customers by inspiring continued
purchases from your brand, rather than competitors. These initiatives
acknowledge and incentivize ongoing interactions with the brand, with
increased engagement translating into greater rewards over time.</p>
<p>Through a program, businesses can extend points or perks to
their clientele, who in turn redeem these rewards for discounts,
complimentary items, special incentives, or exclusive privileges. The
objective is to foster repeat transactions and cultivate a sense of
trust and loyalty between customers and brands.</p>
<h2 id="comprehensive-insights-of-programs">Comprehensive Insights of Programs<a class="headerlink" href="#comprehensive-insights-of-programs" title="Permanent link">&para;</a></h2>
<h4 id="loc_overrides"><strong>loc_overrides</strong><a class="headerlink" href="#loc_overrides" title="Permanent link">&para;</a></h4>
<p>loc_overrides provide targeted rewards or deals that are
constrained to specific geographic areas, utilizing location-specific
data to customize offerings for customers in those regions</p>
<p><strong>LIST OF TABLES:</strong> The table for loc_overrides is employed to
fetch the corresponding fields mentioned above.</p>
<ul>
<li>
<p>loc_overrides</p>
</li>
<li>
<p>loc_overrides Details data can be retrieved in a few different ways, as listed below.</p>
</li>
<li>
<p><em>How to retrieve the loc_overrides details?</em></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>SELECT location_id,
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>target_id,
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>target_type,
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>optin_flag
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>FROM schema_name.loc_overrides
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>WHERE delete_flag &lt;&gt; &#39;Y&#39; --To get only non-deleted records from loc_overrides
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>;
</code></pre></div>
<table>
<thead>
<tr>
<th><strong>location_id</strong></th>
<th><strong>target_id</strong></th>
<th><strong>target_type</strong></th>
<th><strong>optin_flag</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>5d039086eb256687e4ddc5fa</td>
<td>5df8b81a04f3a60172bfbfc6</td>
<td>Rewardwallet</td>
<td>true</td>
</tr>
<tr>
<td>5d039087eb256687e4ddcb6f</td>
<td>5df8b81a04f3a60172bfbfc6</td>
<td>Rewardwallet</td>
<td>false</td>
</tr>
</tbody>
</table>
<h4 id="programs"><strong>programs</strong><a class="headerlink" href="#programs" title="Permanent link">&para;</a></h4>
<p>Stores basic information about the program like program_name,
Description.</p>
<p>We have the ability to customize the program according to the client's
specifications. Within the program, we can manage specific
functionalities such as loyalty points, offers, rewards, and more as
needed.</p>
<p>For a program to be functional there are three components: - Rules,
Policies, and Flows. These in turn are based on reference data.</p>
<p><strong>LIST OF TABLES:</strong> The table for programs is employed to fetch
the corresponding fields mentioned above.</p>
<ul>
<li>programs</li>
</ul>
<p>programs Details data can be retrieved in a few different ways,
as listed below.</p>
<ul>
<li><em>How to retrieve the programs details based on the program_name?</em></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>SELECT program_name,
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>program_description,
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>is_multinational
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>FROM schema_name.programs
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>WHERE program_name = &#39;Rewards&#39; -- To filter based on program_name
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>AND delete_flag &lt;&gt; &#39;Y&#39; --To get only non-deleted records from programs
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>;
</code></pre></div>
<p><strong><u>Sample Data:</u></strong></p>
<table>
<thead>
<tr>
<th><strong>program_name</strong></th>
<th><strong>program_description</strong></th>
<th><strong>is_multinational</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Rewards</td>
<td>Rewards</td>
<td>false</td>
</tr>
</tbody>
</table>
<h4 id="wallet_policies"><strong>wallet_policies</strong><a class="headerlink" href="#wallet_policies" title="Permanent link">&para;</a></h4>
<p>wallet_policies are configurations to define the different categories of
virtual currencies that are tracked for a member. Without a purse there
can be no rewarding of points. There is no limitation to the quantity of
purses created in a program. However, per user experience there is only
one purse visible; the division of purses only exists in the backend of
the loyalty system.</p>
<p><strong>LIST OF TABLES:</strong> The table for wallet_policies is employed to fetch
the corresponding fields mentioned above.</p>
<ul>
<li>wallet_policies</li>
</ul>
<p>wallet_policies data can be retrieved from the database in a few
different ways, as listed below</p>
<ul>
<li><em>How to retrieve the wallet_policies details based on wallet_name?</em></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>SELECT wallet_name,
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>wallet_description,
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>effective_from,
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>expiration_dt,
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>pt_multiplier,
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>wallet_group_name,
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>period_start_date,
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>period_end_date
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>FROM schema_name.wallet_policies
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>WHERE wallet_name = &#39;level Credits&#39; -- To filter based on wallet_name
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>AND delete_flag &lt;&gt; &#39;Y&#39; -- To get only non-deleted records from wallet_policies
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>;
</code></pre></div>
<p><strong><u>Sample Data:</u></strong></p>
<table>
<thead>
<tr>
<th><strong>wallet_name</strong></th>
<th><strong>wallet_description</strong></th>
<th><strong>effective_from</strong></th>
<th><strong>expiration_dt</strong></th>
<th><strong>pt_multiplier</strong></th>
<th><strong>wallet_group_name</strong></th>
<th><strong>period_start_date</strong></th>
<th><strong>period_end_date</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>level Credits</td>
<td>level Credits</td>
<td>2000-01-01 00:00:00+00</td>
<td>3000-01-01 23:59:59.999+00</td>
<td>10000.000</td>
<td>level Credits</td>
<td>2023-01-01 08:00:00+00</td>
<td>2024-01-01 07:59:59.999+00</td>
</tr>
</tbody>
</table>
<ul>
<li><em>How to retrieve active wallet_policies details?</em></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>SELECT wallet_name,
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>wallet_description,
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>effective_from,
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>expiration_dt,
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>pt_multiplier,
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>wallet_group_name,
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>period_start_date,
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>period_end_date
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>FROM schema_name.wallet_policies
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>WHERE ((wallet_group_name IS NULL AND expiration_dt::DATE\&gt;=
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>SYSDATE::DATE) OR (wallet_group_name IS NOT NULL AND
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>period_end_date::DATE\&gt;= SYSDATE::DATE))
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>AND delete_flag &lt;&gt; &#39;Y&#39; -- To get only non-deleted records from wallet_policies
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>;
</code></pre></div>
<p><strong><u>Sample Data:</u></strong></p>
<table>
<thead>
<tr>
<th><strong>wallet_name</strong></th>
<th><strong>wallet_description</strong></th>
<th><strong>effective_from</strong></th>
<th><strong>expiration_dt</strong></th>
<th><strong>pt_multiplier</strong></th>
<th><strong>wallet_group_name</strong></th>
<th><strong>period_start_date</strong></th>
<th><strong>period_end_date</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Deferred Debits</td>
<td>Deferred Debits</td>
<td>2000-01-01 00:00:00+00</td>
<td>3000-01-01 23:59:59.999+00</td>
<td>10000.000</td>
<td> </td>
<td> </td>
<td> </td>
</tr>
<tr>
<td>level Credits 2024</td>
<td>level Credits 2024</td>
<td>2000-01-01 00:00:00+00</td>
<td>3000-01-01 23:59:59.999+00</td>
<td>10000.000</td>
<td>level Credits</td>
<td>2024-01-01 08:00:00+00</td>
<td>2025-01-01 07:59:59.999+00</td>
</tr>
</tbody>
</table>
<h4 id="level_policies"><strong>level_policies</strong><a class="headerlink" href="#level_policies" title="Permanent link">&para;</a></h4>
<p>level_policies are the configurations to define the classification of
members based on milestones that have been awarded. They provide
guidelines for how a level shall operate. Often these guidelines dictate
how many levels are available in the program, how many levels exist
within a level, how many points required for movement between levels, etc.</p>
<p><strong>LIST OF TABLES:</strong> The table for level_policies is employed to fetch the
corresponding fields mentioned above.</p>
<ul>
<li>level_policies</li>
</ul>
<p>level_policies data can be retrieved from the database in a few different
ways, as listed below:</p>
<ul>
<li><em>How to retrieve the level_policies details?</em></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>SELECT loyalty_program_id,
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>level_name,
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>primary_flag
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>FROM schema_name.level_policies
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>WHERE delete_flag &lt;&gt; &#39;Y&#39; -- To get only non-deleted records from level_policies
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>;
</code></pre></div>
<p><strong><u>Sample Data:</u></strong></p>
<table>
<thead>
<tr>
<th><strong>loyalty_program_id</strong></th>
<th><strong>level_name</strong></th>
<th><strong>primary_flag</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>626a6d6128034c0263eb83dd</td>
<td>Base</td>
<td>true</td>
</tr>
</tbody>
</table>
<h4 id="wallet_levels"><strong>wallet_levels</strong><a class="headerlink" href="#wallet_levels" title="Permanent link">&para;</a></h4>
<p>The wallet_levels table is responsible for storing and managing
information related to the various levels of membership levels for
members.</p>
<p><strong>LIST OF TABLES:</strong> The table for wallet_levels is employed to
fetch the corresponding fields mentioned above.</p>
<ul>
<li>
<p>wallet_levels</p>
</li>
<li>
<p>level_policies</p>
</li>
<li>
<p><em>How to retrieve the wallet_levels details based on level Name?</em></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>SELECT TP.level_name,
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>level_name,
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>is_default,
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>level_number,
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>level_threshold
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>FROM schema_name.wallet_levels TPL
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>INNER JOIN schema_name.level_policies TP ON TPL.level_wallet_id = TP.id
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>WHERE TP.level_name = &#39;Base&#39; -- To filter based on level name
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>AND TP.delete_flag &lt;&gt; &#39;Y&#39; -- To get only non-deleted records from level_policies
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>;
</code></pre></div>
<p><strong><u>Sample Data:</u></strong></p>
<table>
<thead>
<tr>
<th><strong>level_name</strong></th>
<th><strong>level_name</strong></th>
<th><strong>is_default</strong></th>
<th><strong>level_number</strong></th>
<th><strong>level_threshold</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Base</td>
<td>Pearl</td>
<td>false</td>
<td>2</td>
<td>20,000</td>
</tr>
<tr>
<td>Base</td>
<td>Gold</td>
<td>false</td>
<td>3</td>
<td>75,000</td>
</tr>
</tbody>
</table>
<ul>
<li><em>How to retrieve the wallet_levels details based on level Level Name?</em></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>SELECT TP.level_name,
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>level_name,
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>is_default,
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>level_number,
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>level_threshold
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>FROM schema_name.wallet_levels TPL
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>INNER JOIN schema_name.level_policies TP ON TPL.level_wallet_id = TP.id
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>WHERE TPL.level_name = &#39;Gold&#39; -- To filter based on level name
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>AND TP.delete_flag &lt;&gt; &#39;Y&#39; -- To get only non-deleted records from level_policies
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>;
</code></pre></div>
<p><strong><u>Sample Data:</u></strong></p>
<table>
<thead>
<tr>
<th><strong>level_name</strong></th>
<th><strong>level_name</strong></th>
<th><strong>is_default</strong></th>
<th><strong>level_number</strong></th>
<th><strong>level_threshold</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Base</td>
<td>Gold</td>
<td>false</td>
<td>3</td>
<td>75,000</td>
</tr>
</tbody>
</table>
<ul>
<li><em>How to retrieve the wallet_levels details based on the level_threshold?</em></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>SELECT TP.level_name,
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>level_name,
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>is_default,
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>level_number,
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>level_threshold
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>FROM schema_name.wallet_levels TPL
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>INNER JOIN schema_name.level_policies TP ON TPL.level_wallet_id = TP.id
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>WHERE level_threshold BETWEEN &#39;20000&#39; AND &#39;200000&#39; -- To filter based on level threshold
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>AND TP.delete_flag &lt;&gt; &#39;Y&#39; -- To get only non-deleted records from level_policies
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>;
</code></pre></div>
<p><strong><u>Sample Data:</u></strong></p>
<table>
<thead>
<tr>
<th><strong>level_name</strong></th>
<th><strong>level_name</strong></th>
<th><strong>is_default</strong></th>
<th><strong>level_number</strong></th>
<th><strong>level_threshold</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Base</td>
<td>Pearl</td>
<td>false</td>
<td>2</td>
<td>20,000</td>
</tr>
<tr>
<td>Base</td>
<td>Gold</td>
<td>false</td>
<td>3</td>
<td>75,000</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
        <script src="../../../custom/footer.js"></script>
      
    
  </body>
</html>